{% extends "otree/FormPage.html" %}
{% load staticfiles otree_tags %}


{% block global_styles  %}
{% endblock %}

{% block global_scripts  %}
<script   
    src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
    integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
    crossorigin="anonymous"></script>

<script type="text/javascript">
    window.onload = function () {
        document.getElementById("arrive_time").value = (new Date()).toISOString();
    }
</script>

<script>
    /*
    * Given: Table with id questions
    * Replace a random row after another random row rows.length number of times
    */
    var randomize = function (){
        var rows = $("#questions > tbody > tr")
        for(var i = 0; i < rows.length; i++){
            // Pick a two spots in the table that are not the first row 
            var spot1 = Math.floor(Math.random() * rows.length + 1)
            var spot2 = Math.floor(Math.random() * rows.length + 1)
            var row1 = rows.eq(spot1)
            var row2 = rows.eq(spot2)
            // Put row1 after row2
            $(row1).after($(row2))
        }
    }

    $(document).ready(function(){
        randomize();
    });
</script>
{% endblock %}
