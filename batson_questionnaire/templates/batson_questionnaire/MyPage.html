{% extends "global/Base.html" %}
{% load staticfiles otree_tags index %}

{% block title %}
    Questionnaire
{% endblock %}


{% block styles %}
	<style>
		.slider-wrapper {
			display: table;
			margin: auto;
			margin-top: 20px;
		}
		.slider-wrapper > * {
			display: table-cell;
		}
		.slider-wrapper > div {
			width: 600px;
		}
		.slider-wrapper > span {
			width: 100px;
			text-align: center;
		}
	</style>

    <link href="{% static "jquery-ui/jquery-ui.min.css" %}" rel="stylesheet">

{% endblock %}


{% block content %}

    {% for slider in emo_list %}
            <div class="slider-wrapper">
                <span>{{slider|index:0}} (<span class="left_val">_</span>)</span>
                <div>
                    <div class="slider">
                        <input type="hidden" name="{{slider|index:0}}_{{slider|index:1}}">
                    </div>
                </div>
                <span>(<span class="right_val">_</span>) {{slider|index:1}}</span>
            </div>

    {% endfor %}

{#    {% for var in form %}#}
{#        {% formfield var with label=None %}#}
{#    {% endfor %}#}

{#    {{ form.em31_em32.errors }}#}

    {% next_button %}

{% endblock %}

{% block scripts %}

    <script type="text/javascript" src="{% static "jquery-ui/jquery-ui.min.js" %}"></script>

    <script>
	jQuery(document).ready(function ($) {
		$(".slider")
			.slider({
				stop: function (event, ui) {
					$(this).children("input").val(ui.value);
				},
				start: function () {
					$(this).children(".ui-slider-handle").show()
				},
				slide: function (event, ui) {
					$(this).closest(".slider-wrapper").find('.left_val').text(10 - ui.value);
					$(this).closest(".slider-wrapper").find('.right_val').text(ui.value);
				},
                {#  this defines the scale of the questionnaire  #}
				max: 10,
	            step: .01
			})
			.children(".ui-slider-handle").hide();
	});
	</script>

{% endblock %}
